# Python 学习项目使用指南（Jupyter 推荐）

本指南补充了仓库顶层 README，帮助你通过 Jupyter Notebook 与 Pydantic 示例进行练习，所有说明与注释均使用中文。

## 环境准备
1. 创建并激活虚拟环境：
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   ```
2. 安装依赖（包含 Jupyter 与 Pydantic/测试工具）：
   ```bash
   pip install -r requirements.txt
   ```
   若网络受限，可指定国内镜像源（例如清华）：
   ```bash
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
   ```
3. 启动 Notebook 服务，便于交互式实验：
   ```bash
   jupyter notebook
   ```
   在浏览器中打开 `sample.ipynb` 与 `seq.ipynb`，跟随注释练习字典、列表与安全访问模式。

## Pydantic 学习路径
- **模型与验证**：阅读 `pydantic_lab/models.py`，理解字段约束、嵌套模型、`RootModel` 以及中文注释中的设计思路。
- **环境配置**：在 `pydantic_lab/settings.py` 中查看如何使用 `BaseSettings` 读取 `.env`，并通过 `get_settings()` 复用。
- **命令行实验**：运行 `python -m pydantic_lab.cli -j '{"id":1,"name":"Alice","email":"alice@example.com"}'` 观察校验结果；也可使用 `-f data.json` 从文件读取。
- **参数冲突提示**：`-f` 与 `-j` 仅能二选一，避免输入来源不一致；若路径错误会返回中文的文件不存在提示，便于快速排查。
- **FastAPI 实战**：执行 `uvicorn pydantic_lab.api:app --reload --host 0.0.0.0 --port 8000`，然后通过 `POST /users` 与 `GET /users/{id}` 测试请求体验证；`/settings` 路由可查看当前配置。

## 练习建议
- 修改 `sample.ipynb` 中的“挑战”单元，尝试用 `dict.get`/`setdefault` 处理缺失键，并对比异常处理方式。
- 在 `seq.ipynb` 中添加自己的列表推导式与生成器表达式，观察内存占用与输出差异。
- 为 `pydantic_lab/tests/test_pydantic_lab.py` 增加更多边界测试，例如缺少必填字段或邮箱格式错误的场景，巩固 Pydantic 的错误提示理解。

希望这些中文说明能帮助你在实验室环境中快速上手并反复练习。
